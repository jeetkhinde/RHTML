slots {
title: "Pattern Matching Demo - r-match",
footer: "RHTML Feature #4 Demo"
}

cmp Page(props: &PageProps<()>) {
  <div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-bold text-gray-800 mb-6">
      Pattern Matching Demo 🎯
    </h1>

    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">Example 1: User Role Matching</h2>
      <p class="text-gray-600 mb-4">Match different user roles with <code class="bg-gray-100 px-2 py-1 rounded">r-match</code> and <code class="bg-gray-100 px-2 py-1 rounded">r-when</code></p>

      <div r-match="user_role" class="space-y-2">
        <div r-when="admin" class="bg-red-50 border-l-4 border-red-500 p-4">
          <h3 class="font-bold text-red-800">👑 Admin Dashboard</h3>
          <p class="text-red-700">You have full system access</p>
        </div>
        <div r-when="moderator" class="bg-yellow-50 border-l-4 border-yellow-500 p-4">
          <h3 class="font-bold text-yellow-800">⚡ Moderator Panel</h3>
          <p class="text-yellow-700">You can moderate content and users</p>
        </div>
        <div r-when="user" class="bg-green-50 border-l-4 border-green-500 p-4">
          <h3 class="font-bold text-green-800">👤 User Profile</h3>
          <p class="text-green-700">Welcome! You have standard access</p>
        </div>
        <div r-default class="bg-gray-50 border-l-4 border-gray-500 p-4">
          <h3 class="font-bold text-gray-800">🔒 Guest View</h3>
          <p class="text-gray-700">Please log in to access more features</p>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">Example 2: Order Status</h2>
      <p class="text-gray-600 mb-4">Display different UI based on order status</p>

      <div r-match="order_status" class="inline-block">
        <div r-when="pending" class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full">
          ⏳ Processing your order...
        </div>
        <div r-when="shipped" class="bg-purple-100 text-purple-800 px-4 py-2 rounded-full">
          🚚 Order shipped! On the way
        </div>
        <div r-when="delivered" class="bg-green-100 text-green-800 px-4 py-2 rounded-full">
          ✅ Delivered successfully
        </div>
        <div r-when="cancelled" class="bg-red-100 text-red-800 px-4 py-2 rounded-full">
          ❌ Order cancelled
        </div>
        <div r-default class="bg-gray-100 text-gray-800 px-4 py-2 rounded-full">
          ❓ Unknown status
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">Example 3: Payment Method</h2>
      <p class="text-gray-600 mb-4">Show different payment instructions</p>

      <div r-match="payment_method">
        <div r-when="card" class="flex items-center gap-3">
          <span class="text-3xl">💳</span>
          <div>
            <h4 class="font-semibold">Credit/Debit Card</h4>
            <p class="text-sm text-gray-600">Your card will be charged immediately</p>
          </div>
        </div>
        <div r-when="paypal" class="flex items-center gap-3">
          <span class="text-3xl">🅿️</span>
          <div>
            <h4 class="font-semibold">PayPal</h4>
            <p class="text-sm text-gray-600">Redirecting to PayPal for payment</p>
          </div>
        </div>
        <div r-when="crypto" class="flex items-center gap-3">
          <span class="text-3xl">₿</span>
          <div>
            <h4 class="font-semibold">Cryptocurrency</h4>
            <p class="text-sm text-gray-600">Send payment to the wallet address</p>
          </div>
        </div>
        <div r-default class="flex items-center gap-3">
          <span class="text-3xl">💰</span>
          <div>
            <h4 class="font-semibold">Cash on Delivery</h4>
            <p class="text-sm text-gray-600">Pay when you receive your order</p>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">Example 4: Theme Selection</h2>
      <p class="text-gray-600 mb-4">Current theme: <strong>{theme}</strong></p>

      <div r-match="theme" class="p-6 rounded-lg">
        <div r-when="dark" class="bg-gray-900 text-white">
          <h3 class="text-xl font-bold mb-2">🌙 Dark Mode Active</h3>
          <p>Easy on the eyes in low light</p>
        </div>
        <div r-when="light" class="bg-white text-gray-900 border-2">
          <h3 class="text-xl font-bold mb-2">☀️ Light Mode Active</h3>
          <p>Clear and bright interface</p>
        </div>
        <div r-when="auto" class="bg-gradient-to-r from-gray-900 via-gray-500 to-white text-center">
          <h3 class="text-xl font-bold mb-2">🌗 Auto Mode Active</h3>
          <p>Switches based on time of day</p>
        </div>
        <div r-default class="bg-blue-100 text-blue-900">
          <h3 class="text-xl font-bold mb-2">🎨 Custom Theme</h3>
          <p>Your personalized color scheme</p>
        </div>
      </div>
    </div>

    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
      <h3 class="text-lg font-semibold text-yellow-800 mb-2">💡 How It Works</h3>
      <ul class="text-yellow-700 space-y-1 list-disc list-inside">
        <li>Use <code class="bg-yellow-100 px-2 py-1 rounded">r-match="variable"</code> on parent element</li>
        <li>Add <code class="bg-yellow-100 px-2 py-1 rounded">r-when="value"</code> for each case</li>
        <li>Use <code class="bg-yellow-100 px-2 py-1 rounded">r-default</code> as fallback (like Rust's _ wildcard)</li>
        <li>Only the first matching case is rendered</li>
        <li>Similar to Rust's match expression and switch statements in other languages</li>
      </ul>
    </div>

    <div class="mt-8 flex gap-4 flex-wrap">
      <a href="/loops" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700">
        ← Loops Demo
      </a>
      <a href="/" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700">
        Home
      </a>
    </div>
  </div>
}
